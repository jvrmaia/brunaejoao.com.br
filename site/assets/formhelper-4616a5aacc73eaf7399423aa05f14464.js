function jQueryFormHelper(e,t){this.options=jQuery.extend({},jQueryFormHelper.DEFAULTS,t||{}),this.element=e}function checkLuhn(e){var t=0,o=e.length,n=o%2;for(i=0;i<o;i++){var a=parseInt(e.substr(i,1));i%2==n&&(a*=2),a>9&&(a-=9),t+=a}return t%10==0}!function(e){var t=(e("body").is(".ie *")?"paste":"input")+".mask",o=void 0!=window.orientation;e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]",b:"[A-Z0-9]"},dataName:"rawMaskFn"},e.fn.extend({caret:function(e,t){if(0!=this.length){if("number"==typeof e)return t="number"==typeof t?t:e,this.each(function(){if(this.setSelectionRange)this.setSelectionRange(e,t);else if(this.createTextRange){var o=this.createTextRange();o.collapse(!0),o.moveEnd("character",t),o.moveStart("character",e),o.select()}});if(this[0].setSelectionRange)e=this[0].selectionStart,t=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var o=document.selection.createRange();e=0-o.duplicate().moveStart("character",-1e5),t=e+o.text.length}return{begin:e,end:t}}},unmask:function(){return this.trigger("unmask")},mask:function(n,a){if(!n&&this.length>0){var i=e(this[0]);return i.data(e.mask.dataName)()}a=e.extend({placeholder:"_",completed:null},a);var s=e.mask.definitions,r=[],l=n.length,c=null,d=n.length;return e.each(n.split(""),function(e,t){"?"==t?(d--,l=e):s[t]?(r.push(new RegExp(s[t])),null==c&&(c=r.length-1)):r.push(null)}),this.trigger("unmask").each(function(){function i(e){for(;++e<=d&&!r[e];);return e}function u(e){for(;--e>=0&&!r[e];);return e}function p(e,t){if(!(0>e)){for(var o=e,n=i(t);d>o;o++)if(r[o]){if(!(d>n&&r[o].test(w[n])))break;w[o]=w[n],w[n]=a.placeholder,n=i(n)}_(),b.caret(Math.max(c,e))}}function h(e){for(var t=e,o=a.placeholder;d>t;t++)if(r[t]){var n=i(t),s=w[t];if(w[t]=o,!(d>n&&r[n].test(s)))break;o=s}}function m(e){var t=e.which;if(8==t||46==t||o&&127==t){var n=b.caret(),a=n.begin,s=n.end;return s-a==0&&(a=46!=t?u(a):s=i(a-1),s=46==t?i(s):s),g(a,s),p(a,s-1),!1}return 27==t?(b.val(y),b.caret(0,v()),!1):void 0}function f(e){var t=e.which,o=b.caret();if(e.ctrlKey||e.altKey||e.metaKey||32>t)return!0;if(t){o.end-o.begin!=0&&(g(o.begin,o.end),p(o.begin,o.end-1));var n=i(o.begin-1);if(d>n){var s=String.fromCharCode(t);if(b.attr("upcase")&&"true"==b.attr("upcase").toLowerCase()&&(s=s.toUpperCase()),r[n].test(s)){h(n),w[n]=s,_();var l=i(n);b.caret(l),a.completed&&l>=d&&a.completed.call(b)}}return!1}}function g(e,t){for(var o=e;t>o&&d>o;o++)r[o]&&(w[o]=a.placeholder)}function _(){return b.val(w.join("")).val()}function v(e){for(var t=b.val(),o=-1,n=0,i=0;d>n;n++)if(r[n]){for(w[n]=a.placeholder;i++<t.length;){var s=t.charAt(i-1);if(r[n].test(s)){w[n]=s,o=n;break}}if(i>t.length)break}else w[n]==t.charAt(i)&&n!=l&&(i++,o=n);return!e&&l>o+1?(b.val(""),g(0,d)):(e||o+1>=l)&&(_(),e||b.val(b.val().substring(0,o+1))),l?n:c}var b=e(this),w=e.map(n.split(""),function(e,t){return"?"!=e?s[e]?a.placeholder:e:void 0}),y=b.val();b.data(e.mask.dataName,function(){return e.map(w,function(e,t){return r[t]&&e!=a.placeholder?e:null}).join("")}),b.attr("readonly")||b.one("unmask",function(){b.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){y=b.val();var t=v();_();var o=function(){t==n.length?b.caret(0,t):b.caret(t)};(e("body").is(".ie *")?o:function(){setTimeout(o,0)})()}).bind("blur.mask",function(){v()}).bind("keydown.mask",m).bind("keypress.mask",f).bind(t,function(){setTimeout(function(){b.caret(v(!0))},0)}),v()})}})}(jQuery),function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,o,n,a,i,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),i=e.childNodes,s=[],n=0,a=i.length;a>n;n++)o=i[n],s.push(this.add_option(o,t,e.disabled));return s},e.prototype.add_option=function(e,t,o){return"OPTION"===e.nodeName?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:o===!0?o:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var o,n,a,i,s;for(n=new e,s=t.childNodes,a=0,i=s.length;i>a;a++)o=s[a],n.add_node(o);return n.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){function e(e,t){this.form_field=e,this.options=null!=t?t:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.set_default_text(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0},e.prototype.set_default_text=function(){return this.form_field.getAttribute("label")?this.default_text=this.form_field.getAttribute("label"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;return this.active_field?void 0:setTimeout(function(){return t.container_mousedown()},50)},e.prototype.input_blur=function(e){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},e.prototype.result_add_option=function(e){var t,o;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),o=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+o+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.keyup_checker=function(e){var t,o;switch(t=null!=(o=e.which)?o:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,o;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=Math.floor(Math.random()*e.length),t=e.substring(o,o+1)},e}(),t.AbstractChosen=e}.call(this),function(){var e,t,o,n,a=Object.prototype.hasOwnProperty,i=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};n=this,e=jQuery,e.fn.extend({chosen:function(o){return this.each(function(n){var a;return a=e(this),a.hasClass("chzn-done")?void 0:a.data("chosen",new t(this,o))})}}),t=function(t){function a(){a.__super__.constructor.apply(this,arguments)}return i(a,t),a.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},a.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},a.prototype.set_up_html=function(){var t,n,a,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),t=e("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?t.html('<ul class="chzn-choices"><li class="search-field"><input ignore="true" type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):t.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input ignore="true" type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(t),this.container=e("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),n=this.container.height(),a=this.f_width-o(this.dropdown),this.dropdown.css({width:a+"px",top:n+"px"}),this.search_field=this.container.find("input").first(),(this.form_field.options.length<=this.disable_search_threshold||this.disable_search)&&this.search_field.remove(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),i=a-o(this.search_container)-o(this.search_field),this.search_field.css({width:i+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},a.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){return t.container_mousedown(e)}),this.container.mouseup(function(e){return t.container_mouseup(e)}),this.container.mouseenter(function(e){return t.mouse_enter(e)}),this.container.mouseleave(function(e){return t.mouse_leave(e)}),this.search_results.mouseup(function(e){return t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){return t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){return t.search_results_mouseout(e)}),this.form_field_jq.bind("liszt:updated",function(e){return t.results_update_field(e)}),this.form_field_jq.bind("liszt:blur",function(e){return t.close_field()}),this.form_field_jq.bind("liszt:focus",function(o){return e(document).click(t.click_test_action),t.activate_field()}),this.search_field.blur(function(e){return t.input_blur(e)}),this.search_field.keyup(function(e){return t.keyup_checker(e)}),this.search_field.keydown(function(e){return t.keydown_checker(e)}),this.is_multiple?(this.search_choices.click(function(e){return t.choices_click(e)}),this.search_field.focus(function(e){return t.input_focus(e)})):this.container.click(function(e){return e.preventDefault()})},a.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},a.prototype.container_mousedown=function(t){var o;return this.is_disabled?void 0:(o=null!=t?e(t.target).hasClass("search-choice-close"):!1,t&&"mousedown"===t.type&&!this.results_showing&&t.stopPropagation(),this.pending_destroy_click||o?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chzn-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field()))},a.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},a.prototype.blur_test=function(e){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},a.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.options.onblur&&this.options.onblur.call(this),this.search_field_scale()},a.prototype.activate_field=function(){return this.is_multiple||this.active_field||(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1),this.options.onfocus&&this.options.onfocus.call(this)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},a.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},a.prototype.results_build=function(){var e,t,o,a,i;for(this.parsing=!0,this.results_data=n.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold||this.disable_search?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",i=this.results_data,o=0,a=i.length;a>o;o++)t=i[o],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},a.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},a.prototype.result_do_highlight=function(e){var t,o,n,a,i;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),i=this.search_results.scrollTop(),a=n+i,o=this.result_highlight.position().top+this.search_results.scrollTop(),t=o+this.result_highlight.outerHeight(),t>=a)return this.search_results.scrollTop(t-n>0?t-n:0);if(i>o)return this.search_results.scrollTop(o)}},a.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},a.prototype.results_show=function(){var e;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);return e=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:e+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},a.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},a.prototype.set_tab_index=function(e){var t;return jQuery("div.chzn-container ul").attr("tabindex",-1),this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",t):(this.selected_item.attr("tabindex",t),this.search_field.attr("tabindex",-1))):void 0},a.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},a.prototype.search_results_mouseup=function(t){var o;return o=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),o.length?(this.result_highlight=o,this.result_select(t)):void 0},a.prototype.search_results_mouseover=function(t){var o;return o=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),o?this.result_do_highlight(o):void 0},a.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},a.prototype.choices_click=function(t){return t.preventDefault(),!this.active_field||e(t.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},a.prototype.choice_build=function(t){var o,n,a=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(o=this.container_id+"_c_"+t.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+o+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>'),n=e("#"+o).find("a").first(),n.click(function(e){return a.choice_destroy_link_click(e)}))},a.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),this.is_disabled?t.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(e(t.target)))},a.prototype.choice_destroy=function(e){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(e.attr("rel")),e.parents("li").first().remove()},a.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},a.prototype.results_reset_cleanup=function(){return this.selected_item.find("abbr").remove()},a.prototype.result_select=function(e){var t,o,n,a;return this.result_highlight?(t=this.result_highlight,o=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),a=o.substr(o.lastIndexOf("_")+1),n=this.results_data[a],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),e.metaKey&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()):void 0},a.prototype.result_activate=function(e){return e.addClass("active-result")},a.prototype.result_deactivate=function(e){return e.removeClass("active-result")},a.prototype.result_deselect=function(t){var o,n;return n=this.results_data[t],n.selected=!1,this.form_field.options[n.options_index].selected=!1,o=e("#"+this.container_id+"_o_"+t),o.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[n.options_index].value}),this.search_field_scale()},a.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},a.prototype.winnow_results=function(){var t,o,n,a,i,s,r,l,c,d,u,p,h,m,f,g,_,v;for(this.no_results_clear(),c=0,d=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),s=this.search_contains?"":"^",i=new RegExp(s+d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),h=new RegExp(d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),v=this.results_data,m=0,g=v.length;g>m;m++)if(o=v[m],!o.disabled&&!o.empty)if(o.group)e("#"+o.dom_id).css("display","none");else if(!this.is_multiple||!o.selected){if(t=!1,l=o.dom_id,r=e("#"+l),i.test(o.html))t=!0,c+=1;else if((o.html.indexOf(" ")>=0||0===o.html.indexOf("["))&&(a=o.html.replace(/\[|\]/g,"").split(" "),a.length))for(f=0,_=a.length;_>f;f++)n=a[f],i.test(n)&&(t=!0,c+=1);t?(d.length?(u=o.html.search(h),p=o.html.substr(0,u+d.length)+"</em>"+o.html.substr(u+d.length),p=p.substr(0,u)+"<em>"+p.substr(u)):p=o.html,r.html(p),this.result_activate(r),null!=o.group_array_index&&e("#"+this.results_data[o.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(r))}return 1>c&&d.length?this.no_results(d):this.winnow_results_set_highlight()},a.prototype.winnow_results_clear=function(){var t,o,n,a,i;for(this.search_field.val(""),o=this.search_results.find("li"),i=[],n=0,a=o.length;a>n;n++)t=o[n],t=e(t),t.hasClass("group-result")?i.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?i.push(void 0):i.push(this.result_activate(t));return i},a.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},a.prototype.no_results=function(t){var o;return o=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),o.find("span").first().html(t),this.search_results.append(o)},a.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},a.prototype.keydown_arrow=function(){var t,o;return this.result_highlight?this.results_showing&&(o=this.result_highlight.nextAll("li.active-result").first(),o&&this.result_do_highlight(o)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),this.results_showing?void 0:this.results_show()},a.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},a.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus"))},a.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},a.prototype.keydown_checker=function(e){var t,o;switch(t=null!=(o=e.which)?o:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},a.prototype.search_field_scale=function(){var t,o,n,a,i,s,r,l,c;if(this.is_multiple){for(n=0,r=0,i="position:absolute; left: -1000px; top: -1000px; display:none;",s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=s.length;c>l;l++)a=s[l],i+=a+":"+this.search_field.css(a)+";";return o=e("<div />",{style:i}),o.text(this.search_field.val()),e("body").append(o),r=o.width()+25,o.remove(),r>this.f_width-10&&(r=this.f_width-10),this.search_field.css({width:r+"px"}),t=this.container.height(),this.dropdown.css({top:t+"px"})}},a.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},a}(AbstractChosen),o=function(e){var t;return t=e.outerWidth()-e.width()},n.get_side_border_padding=o}.call(this),jQuery.fn.formhelper=function(e,t,o,n){return"string"!=typeof e?(e=e||{},this.each(function(t,o){o.formhelper||(o.formhelper=new jQueryFormHelper(jQuery(o),e),o.formhelper.init(!1))})):this.each(function(a,i){"addvalidator"==e?i.formhelper._addValidator(t,o):"addtemplate"==e?i.formhelper._addTemplate(t,o):"replacetemplate"==e?i.formhelper._replaceTemplate(t,o):"addmessage"==e?i.formhelper._addMessage(t,o):"submit"==e?i.formhelper._submit(t,o):"flagerror"==e?i.formhelper._flagerror(t,o):"setinfo"==e?i.formhelper._setinfo(t,o,n):"setvalue"==e?i.formhelper._setvalue(t,o,n):"refresh"==e?i.formhelper._refresh(t):"validate"==e?i.formhelper._do_validate(t,o,n):"onbuttonclick"==e?i.formhelper._bind_button_click(t,o):"init"==e&&i.formhelper.init(!0)}),this},jQueryFormHelper.simplePadding=function(e){return(10>e?"0":"")+e},jQueryFormHelper.prototype.showLabel=function(e,t,o,n){var a=this.options.labelId,i=this.options.miniLabelId;n&&(a+="-"+n,i+="-"+n),o?(t.attr("showminilabel")&&"false"==t.attr("showminilabel").toLowerCase()?e.find("."+i).hide():e.find("."+i).css("visibility","hidden"),"none"==e.find("."+a).css("display")&&e.find("."+a).animate({opacity:1},50,function(){jQuery(this).show()})):(t.attr("showminilabel")&&"false"==t.attr("showminilabel").toLowerCase()?e.find("."+i).hide():e.find("."+i).css("visibility","visible"),"none"!=e.find("."+a).css("display")&&e.find("."+a).animate({opacity:0},50,function(){jQuery(this).hide()}))},jQueryFormHelper.prototype._bind_button_click=function(e,t){var o=this.element.find("input[name='"+e+"']");o.parents("."+this.options.mainId).find(".btn-acpt").click(function(){t&&t.call(o)})},jQueryFormHelper.prototype._setvalue=function(e,t,o){var n=this.element.find("input[name='"+e+"'],select[name='"+e+"'],textarea[name='"+e+"']");this._set_field_value(n,t,o)},jQueryFormHelper.prototype._refresh=function(e){var t=this.element.find("input[name='"+e+"'],select[name='"+e+"'],textarea[name='"+e+"']");this._do_refresh(t)},jQueryFormHelper.prototype._do_validate=function(e,t,o){var n=this.element.find("input[name='"+e+"'],select[name='"+e+"'],textarea[name='"+e+"']");this._validate(n,t,o)},jQueryFormHelper.prototype._setinfo=function(e,t,o){var n=this.element.find("input[name='"+e+"'],select[name='"+e+"'],textarea[name='"+e+"']").first();n.get(0)&&this._set_field_info(n,t,o)},jQueryFormHelper.prototype._set_field_info=function(e,t,o){var n=this.options.infoId;e.attr("suffix")&&(n+="-"+e.attr("suffix"));var a=e.parents("."+this.options.mainId).find("."+n);if("input"!=e.get(0).nodeName.toLowerCase()||"radio"!=e.attr("type").toLowerCase()&&"checkbox"!=e.attr("type").toLowerCase()||(a=jQuery("#"+e.attr("name")+"_error"),t!=jQueryFormHelper.VALIDATION_SUCCESS&&t!=jQueryFormHelper.STATUS_SUCCESS?a.show():a.hide()),t==jQueryFormHelper.VALIDATION_ERROR||t==jQueryFormHelper.STATUS_ERROR)a.html(o).removeClass("inpt-label-ok inpt-label-info inpt-label-waiting").addClass("inpt-label-erro"),a.parent().removeClass("label-ok").addClass("label-erro");else if(t==jQueryFormHelper.VALIDATION_PENDING||t==jQueryFormHelper.STATUS_PENDING){var i=o;null==i&&(i=this.options.messages["waiting-validation"]),a.html(i).removeClass("inpt-label-ok inpt-label-info g").addClass("inpt-label-waiting")}else if(t==jQueryFormHelper.VALIDATION_SUCCESS||t==jQueryFormHelper.STATUS_SUCCESS)a.html(o).removeClass("inpt-label-erro inpt-label-info inpt-label-waiting").addClass("inpt-label-ok"),a.parent().removeClass("label-erro").addClass("label-ok");else{var i=o;null==i&&(i=e.attr("info")),a.html(i).removeClass("inpt-label-ok inpt-label-erro inpt-label-waiting").addClass("inpt-label-info"),a.parent().removeClass("label-ok").addClass("label-erro")}},jQueryFormHelper.prototype._locateValidator=function(e){return this.validations[e]},jQueryFormHelper.prototype._locateTemplate=function(e){return this.templates[e]},jQueryFormHelper.prototype.dispatchOnChangeCompleted=function(e){return this.options.onChangeCompleted?this.options.onChangeCompleted.call(this,e):!0},jQueryFormHelper.prototype.dispatchOnValidate=function(){return this.options.onValidate?this.options.onValidate.call(this):jQueryFormHelper.VALIDATION_SUCCESS},jQueryFormHelper.prototype.dispatchOnSubmitError=function(){return this.options.onSubmitError?this.options.onSubmitError.call():!0},jQueryFormHelper.prototype.dispatchOnSubmit=function(){return this.options.onSubmit?this.options.onSubmit.call(this):!0},jQueryFormHelper.prototype.dispatchOnAfterValidate=function(e,t){this.options.onAfterValidate&&this.options.onAfterValidate.call(this,e,t)},jQueryFormHelper.prototype.dispatchOnChange=function(e){this.options.onChange&&this.options.onChange.call(this,e)},jQueryFormHelper.prototype.dispatchOnBlur=function(e){this.options.onBlur&&this.options.onBlur.call(this,e)},jQueryFormHelper.prototype.dispatchOnFocus=function(e){this.options.onFocus&&this.options.onFocus.call(this,e)},jQueryFormHelper.prototype._flagerror=function(e,t){var o=this;this.element.find("*[name='"+e+"']").each(function(){var e=jQuery(this);e.attr("fhstatus",jQueryFormHelper.STATUS_ERROR);var n=o.options.messages[t];n&&""!=n||(n=t),o._set_field_info(e,jQueryFormHelper.STATUS_ERROR,n)})},jQueryFormHelper.prototype._do_refresh=function(e){"select"==e.get(0).nodeName.toLowerCase()&&e.trigger("change").trigger("liszt:updated")},jQueryFormHelper.prototype._set_field_value=function(e,t,o){if(1==e.length){var n=e.get(0).nodeName.toLowerCase();"input"==n?(e.val(t).trigger("change"),1==o&&""!=t?e.trigger("keyup").trigger("blur"):""==t?e.trigger("keyup"):e.attr("changed",o)):"select"==n?(e.val(t).trigger("change").trigger("liszt:updated"),1==o&&""!=t?e.trigger("liszt:blur"):""==t?e.trigger("revalidate"):e.attr("changed",o)):"textarea"==n&&(e.val(t).trigger("change"),1==o&&""!=t?e.trigger("keyup").trigger("blur"):""==t?e.trigger("keyup"):e.attr("changed",o))}else""!==t?e.closest("*[value='"+t+"']").prop("checked",!0).prop("selected",!0).trigger("change"):(e.prop("checked",!1).removeProp("selected"),$(e.get(0)).trigger("change"))},jQueryFormHelper.prototype._get_field_value=function(e){var t="",o=e.get(0).nodeName.toLowerCase();if("input"==o&&"radio"==e.attr("type").toLowerCase()){var n=this.element.find("input:radio[name='"+e.attr("name")+"']:checked");
t=n.size()>0?n.val():""}else if("input"==o&&"checkbox"==e.attr("type").toLowerCase())e.is(":checked")&&(t=e.val());else if("select"==o){var a=e.find("option:selected[value!='']");t=a.size()>0?a.val():""}else t=e.val();return t},jQueryFormHelper.prototype._validate=function(e,t,o){if(e.attr("ignore")&&"true"==e.attr("ignore").toLowerCase())return jQueryFormHelper.STATUS_SUCCESS;if(e.attr("ignorevalidation")&&"true"==e.attr("ignorevalidation").toLowerCase())return jQueryFormHelper.STATUS_SUCCESS;var n=this._get_field_value(e),a=e.attr("changed");if(!t&&""==n)return e.attr("fhstatus",jQueryFormHelper.STATUS_SUCCESS),this.dispatchOnAfterValidate(e,jQueryFormHelper.STATUS_SUCCESS),jQueryFormHelper.STATUS_SUCCESS;var i=e.attr("fhstatus");if("true"==a||i==jQueryFormHelper.STATUS_PENDING||1==o){if(e.attr("required")&&""!=e.attr("required")&&"FALSE"!=e.attr("required").toUpperCase()&&""==n){var s=e.attr("error_required");return s||(s=this.options.messages["error-required"]),this._set_field_info(e,jQueryFormHelper.STATUS_ERROR,s),e.attr("changed","false"),e.attr("fhstatus",jQueryFormHelper.STATUS_ERROR),this.dispatchOnAfterValidate(e,jQueryFormHelper.VALIDATION_ERROR),jQueryFormHelper.VALIDATION_ERROR}if(e.attr("validate")&&""!=n){validations=e.attr("validate").split(" ");for(var r=0;r<validations.length;r++){var l=this._locateValidator(validations[r]);if(l){var c=l.validate.call(this,e);if(c[0]==jQueryFormHelper.VALIDATION_ERROR)return this._set_field_info(e,jQueryFormHelper.STATUS_ERROR,this.options.messages[c[1]]),e.attr("changed","false"),e.attr("fhstatus",jQueryFormHelper.STATUS_ERROR),this.dispatchOnAfterValidate(e,c[0]),c[0];if(c[0]==jQueryFormHelper.VALIDATION_PENDING)return this._set_field_info(e,jQueryFormHelper.STATUS_PENDING,this.options.messages["waiting-validation"]),e.attr("fhstatus",jQueryFormHelper.STATUS_PENDING),this.dispatchOnAfterValidate(e,c[0]),c[0];this._set_field_info(e,jQueryFormHelper.STATUS_SUCCESS,this.options.messages[c[1]]),e.attr("fhstatus",jQueryFormHelper.STATUS_SUCCESS)}}}else{if(""!=n){var s=e.attr("success_required");s||(s=this.options.messages["success-required"]),this._set_field_info(e,jQueryFormHelper.STATUS_SUCCESS,this.options.messages["success-required"])}else this.options.showInfoOnEmpty||this._set_field_info(e,jQueryFormHelper.STATUS_INFO,"");e.attr("fhstatus",jQueryFormHelper.STATUS_SUCCESS)}return this.dispatchOnAfterValidate(e,jQueryFormHelper.STATUS_SUCCESS),e.attr("changed","false"),e.attr("fhstatus",jQueryFormHelper.STATUS_SUCCESS),jQueryFormHelper.STATUS_SUCCESS}return this.dispatchOnAfterValidate(e,e.attr("fhstatus")),e.attr("fhstatus")},jQueryFormHelper.prototype.getData=function(){return this.element.serialize()},jQueryFormHelper.prototype._submit=function(e,t){var o=!1,n=!1,a=this;if(!e||!jQuery(e).attr("waiting")||"true"!=jQuery(e).attr("waiting")){this.element.find("input,textarea,select").each(function(){var e=a._validate(jQuery(this),!0,!1);e==jQueryFormHelper.VALIDATION_ERROR?o=!0:e==jQueryFormHelper.VALIDATION_PENDING&&(n=!0)});var i=this.dispatchOnValidate();i==jQueryFormHelper.VALIDATION_ERROR?o=!0:i==jQueryFormHelper.VALIDATION_PENDING&&(n=!0),o||n?(e&&t&&o&&jQuery(e).animate({"margin-left":5},100,function(){jQuery(e).animate({"margin-left":-5},100,function(){jQuery(e).animate({"margin-left":5},100,function(){jQuery(e).animate({"margin-left":0},100,function(){a.dispatchOnSubmitError()})})})}),n&&!o?(setTimeout(function(){jQuery(e).attr("waiting","false"),a._submit(e,t)},200),jQuery(e).attr("waiting","true")):(!n||o)&&jQuery(e).attr("waiting","false")):a.dispatchOnSubmit()&&this.element.get(0).submit()}},jQueryFormHelper.prototype._showInfo=function(e,t){(""==this._get_field_value(e)||this.options.showInfoOnEmpty)&&(e.attr("fhstatus")!=jQueryFormHelper.STATUS_ERROR&&e.attr("fhstatus")!=jQueryFormHelper.STATUS_PENDING||t)&&(e.attr("info")?this._set_field_info(e,jQueryFormHelper.STATUS_INFO,null):this._set_field_info(e,jQueryFormHelper.STATUS_INFO,""),e.attr("changed","true"))},jQueryFormHelper.prototype._countCharacters=function(e){if(e.attr("maxlength")&&""!=e.attr("maxlength")){var t=e.parents("."+this.options.mainId).find("."+this.options.charCountId);if(t.get(0)){var o=parseInt(e.attr("maxlength"))-e.val().length;t.html(o)}}else e.parents("."+this.options.mainId).find(".textarea-caracters").hide()},jQueryFormHelper.prototype.init=function(e){var t=["i","c","a","s","e"];if(!(!document.location.href.indexOf(t[0]+t[1]+t[2]+t[3]+t[4]+t[0]+".com.br")>0)){if(!this.options.autoRender&&!e)return!1;var o=this,n=this._locateTemplate(this.options.template);if(this.element.addClass(this.options.classTemplate),"FORM"!=this.element.get(0).nodeName.toUpperCase())return alert(o.options.messages["main-element-is-not-a-form"]),!1;if(n||alert(o.options.messages["template-not-found"]),this.element.find("input[type='checkbox']").each(function(){if(!jQuery(this).attr("ignore")||"true"!=jQuery(this).attr("ignore").toLowerCase()){var e=jQuery(n.INPUT_CHECKBOX_WRAPPER),t=jQuery(this).clone();e.find("newinput").before(t),e.find("newinput").remove(),e.attr("value",t.val()),e.attr("name",t.attr("name")),jQuery(this).before(e),jQuery(this).remove();var a=t.attr("content"),i=jQuery("#"+a).html();e.find("checktitle").before(jQuery(i)),e.find("checktitle").remove(),jQuery("#"+a).remove(),t.attr("changed","true");var s=function(){var e=(t.attr("name"),t.parents().find("label[value='"+t.val()+"'][name='"+t.attr("name")+"']").find(".mark"));t.is(":checked")?e.removeClass("check-of").addClass("check-ck"):e.removeClass("check-ck").addClass("check-of"),t.attr("changed","true"),o.dispatchOnChange(t),o.dispatchOnChangeCompleted(t)};t.change(s),jQuery("body").is(".lt-ie9 *")&&e.click(function(){t.is(":checked")?t.removeProp("checked"):t.prop("checked",!0),s()})}}),this.element.find("input[type='radio']").each(function(){if(!jQuery(this).attr("ignore")||"true"!=jQuery(this).attr("ignore").toLowerCase()){var e=jQuery(n.INPUT_RADIO_WRAPPER),t=jQuery(this);t.before(e).css("position","absolute"),e.find("newinput").before(t),e.find("newinput").remove(),e.attr("value",t.val()),e.attr("name",t.attr("name"));var a=t.attr("content"),i=jQuery("#"+a).children();e.find("radiotitle").before(i),e.find("radiotitle").remove(),jQuery("#"+a).remove(),t.attr("changed","true");var s=function(){var e=t.attr("name");o.element.find("input[name='"+e+"']").each(function(){var e=jQuery(this).parents().find("label[value='"+jQuery(this).val()+"'][name='"+jQuery(this).attr("name")+"']").find(".mark");jQuery(this).is(":checked")?e.removeClass("radio-of").addClass("radio-ck"):e.removeClass("radio-ck").addClass("radio-of"),jQuery(this).attr("changed","true"),o.dispatchOnChange(jQuery(this)),o.dispatchOnChangeCompleted(jQuery(this))})};t.click(s),t.change(s);var r=function(){var e=t.attr("name");o.element.find("input[name='"+e+"']").removeProp("checked"),t.prop("checked",!0),s()};e.click(r),t.is(":checked")?t.parents().find("label[value='"+jQuery(this).val()+"'][name='"+jQuery(this).attr("name")+"']").find(".mark").removeClass("radio-of").addClass("radio-ck"):t.parents().find("label[value='"+jQuery(this).val()+"'][name='"+jQuery(this).attr("name")+"']").find(".mark").removeClass("radio-ck").addClass("radio-of")}}),this.element.find("select").each(function(){if(!jQuery(this).attr("ignore")||"true"!=jQuery(this).attr("ignore").toLowerCase()){var e=jQuery(n.CHOOSER_WRAPPER),t=jQuery(this).clone();t.addClass("chzn-select"),t.addClass("select-helper"),e.find("newselect").before(t),e.find("newselect").remove(),jQuery(this).before(e),jQuery(this).remove(),t.attr("showminilabel")&&"false"==t.attr("showminilabel").toLowerCase()?e.find("."+o.options.miniLabelId).hide():e.find("."+o.options.miniLabelId).html(t.attr("label")),t.change(function(){t.attr("changed","true");var e=""==t.val();o.showLabel(t.parents("."+o.options.mainId),t,e,t.attr("suffix")),o._validate(t,!0,!1),o.dispatchOnChange(t),o.dispatchOnChangeCompleted(t)}),t.attr("changed","true"),t.bind("revalidate",function(){o._showInfo(t,!0),o._validate(t,!1,!1)});var a=!1,i=t.attr("search");i&&"false"==i.toLowerCase()&&(a=!0),t.chosen({no_results_text:o.options.messages["chosen-not-found"],disable_search:a,onfocus:function(){t.removeClass("fcs-out").addClass("fcs-over"),t.parent().find("."+o.options.labelId).removeClass("inpt-label-out").addClass("inpt-label-over"),o._showInfo(t,!0),o.dispatchOnFocus(t)},onblur:function(){t.removeClass("fcs-over").addClass("fcs-out"),t.parent().find("."+o.options.labelId).removeClass("inpt-label-over").addClass("inpt-label-out"),o._validate(t,!0,!1),o.dispatchOnBlur(t)}});var s=""==t.val();0==s&&t.attr("validateoninit")&&"true"==t.attr("validateoninit").toLowerCase()&&o._validate(t,!0,!1),o.showLabel(t.parents("."+o.options.mainId),t,s,t.attr("suffix"))}}),this.element.find("input[type='textcalendar'], input[type='textbutton'], input[type='text'], input[type='password'], input[type='email'], input[type='number'], input[type='date'], textarea").each(function(){if(!jQuery(this).attr("ignore")||"true"!=jQuery(this).attr("ignore").toLowerCase()){var e=0,t=jQuery(n.INPUT_TEXT_WRAPPER);"textarea"==jQuery(this).get(0).nodeName.toLowerCase()?(t=jQuery(n.TEXTAREA_TEXT_WRAPPER),t.find(".chars").html(o.options.messages.chars),e=1):"textbutton"==jQuery(this).attr("type").toLowerCase()?t=jQuery(n.INPUT_TEXT_BUTTON_WRAPPER):"textcalendar"==jQuery(this).attr("type").toLowerCase()&&(t=jQuery(n.INPUT_CALENDAR_WRAPPER));var a=jQuery(this).attr("validate");a&&a.toLowerCase().indexOf("strength")>=0&&(Strength_html=jQuery(n.PASSWORD_STRENGTH_TEMPLATE),t.find(".cdst-line").append(Strength_html));var i=jQuery(this).attr("ignoretemplate");if(i&&"true"==i.toLowerCase()){var s=jQuery(this);t=s.parents("."+o.options.mainId)}else{var s=jQuery(this).clone();s.addClass("cdst-inpt fcs-out")}var r=o.options.labelId,l=o.options.miniLabelId;s.attr("suffix")&&(r+="-"+s.attr("suffix"),l+="-"+s.attr("suffix")),t.find("."+r).html(s.attr("label")),s.attr("showminilabel")&&"false"==s.attr("showminilabel").toLowerCase()?t.find("."+l).hide():t.find("."+l).html(s.attr("label")),t.find("."+r,"."+l).click(function(){s.focus()}),""!=s.val()&&t.find("."+r).hide();var c=function(){jQuery(this).removeClass("fcs-over").addClass("fcs-out"),jQuery(this).parent().find("."+r).removeClass("inpt-label-over").addClass("inpt-label-out"),o._validate(jQuery(this),!0,!1),o.dispatchOnBlur(s)};s.blur(c),s.bind("formhelper_blur",c),s.focus(function(){jQuery(this).removeClass("fcs-out").addClass("fcs-over"),jQuery(this).parent().find("."+r).removeClass("inpt-label-out").addClass("inpt-label-over"),o._showInfo(jQuery(this),!0),o.dispatchOnFocus(s),jQuery(this).parent().removeClass("label-erro")}),o.options.sendOnEnter&&s.keypress(function(t){var n;return n=window.event?window.event.keyCode:t.which,13==n&&0==e?(o._submit(null,!1),t.stopPropagation(),t.preventDefault(),!1):void 0}),s.keyup(function(){s.attr("changed","true");var e=""==s.val();o.showLabel(s.parents("."+o.options.mainId),s,e,s.attr("suffix")),o._showInfo(s,!0),""==s.val()&&a&&a.toLowerCase().indexOf("strength")>=0&&s.parents("."+o.options.mainId).find(".pass-strength").hide(),o._countCharacters(s),o.changeTimeout>0&&(clearTimeout(o.changeTimeout),o.changeTimeout=0),o.changeTimeout=setTimeout(function(){o.dispatchOnChangeCompleted(s)&&o._validate(s,!1,!1)},1e3),o.dispatchOnChange(s)}),s.change(function(){s.trigger("keyup")}),i&&"true"==i.toLowerCase()||t.find("newinput").before(s).remove(),jQuery(this).attr("type")&&"textbutton"==jQuery(this).attr("type").toLowerCase()&&t.find("buttontitle").before(s.attr("buttontitle")).remove(),i&&"true"==i.toLowerCase()||(jQuery(this).before(t),jQuery(this).remove()),s.attr("changed","true"),""!=s.val()&&(s.attr("validateoninit")&&"true"==s.attr("validateoninit").toLowerCase()&&o._validate(s,!0,!1),o.showLabel(s.parents("."+o.options.mainId),s,!1,s.attr("suffix"))),o._countCharacters(s)}}),""!=this.options.defaultField){var a=jQuery("select[name='"+this.options.defaultField+"']");if(a.get(0))a.trigger("liszt:focus");else{var a=jQuery("*[name='"+this.options.defaultField+"']");a.get(0)||(a=jQuery("."+this.options.defaultField)),a.get(0)&&a.focus()}}}},jQueryFormHelper.prototype._config=function(e,t){this.options[e]=t},jQueryFormHelper.prototype._addTemplate=function(e,t){this.templates[e]=t},jQueryFormHelper.prototype._replaceTemplate=function(e,t){for(i in t)this.templates[e][i]=t[i]},jQueryFormHelper.prototype._addValidator=function(e,t){this.validations[e]=t},jQueryFormHelper.prototype._addMessage=function(e,t){this.options.messages[e]=t},jQueryFormHelper.prototype.validations={email:{validate:function(e){var t=/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,o=t.test(this._get_field_value(e));return[o,o?"email-ok":"email-invalid-format"]}},creditcard:{validate:function(e){var t=e.attr("association"),o=e.attr("content"),n=e.val(),a=0;switch(o){case"number":switch(t){case"visa":case"master":case"elo":a=16;break;case"amex":a=15}break;case"securitycode":switch(t){case"visa":case"master":case"elo":a=3;break;case"amex":a=4}}if(0==a)return[!1,"creditcard-fail"];var i=!0;if(n=n.replace(/_/gi,"").replace(/ /gi,""),n.length!=a&&(i=!1),"securitycode"==o)return[i,i?"creditcard-securitycode-ok":"creditcard-securitycode-fail-"+t];if(!i)return[!1,"creditcard-number-fail0-"+t];if(i=checkLuhn(n))switch(t){case"visa":"4"!=n.substr(0,1)&&(i=!1);break;case"master":"51"!=n.substr(0,2)&&"52"!=n.substr(0,2)&&"53"!=n.substr(0,2)&&"54"!=n.substr(0,2)&&"55"!=n.substr(0,2)&&(i=!1);break;case"elo":"50"!=n.substr(0,2)&&"636368"!=n.substr(0,6)&&"636297"!=n.substr(0,6)&&"504175"!=n.substr(0,6)&&"438935"!=n.substr(0,6)&&"401179"!=n.substr(0,6)&&"401178"!=n.substr(0,6)&&"457631"!=n.substr(0,6)&&"457632"!=n.substr(0,6)&&"451416"!=n.substr(0,6)&&"627780"!=n.substr(0,6)&&"457393"!=n.substr(0,6)&&"431274"!=n.substr(0,6)&&(i=!1);break;case"amex":"34"!=n.substr(0,2)&&"37"!=n.substr(0,2)&&(i=!1)}return[i,i?"creditcard-number-ok":"creditcard-number-fail1"]}},cpf:{validate:function(e){var t=this._get_field_value(e),o=/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,n=o.test(t);if(n){for(t=t.replace(/\./gi,"").replace(/\-/gi,""),i=0;i<10;i++){var a=new RegExp("^["+i+"{11}]+$");if(a.test(t)){n=!1;break}}if(n)for(i=9;i<11;i++){for(add=0,j=0;j<i;j++)add+=parseInt(t.charAt(j))*(i+1-j);if(rev=11-add%11,(10==rev||11==rev)&&(rev=0),rev!=parseInt(t.charAt(i))){n=!1;break}}}return[n,n?"cpf-ok":"cpf-invalid-format"]}},fullname:{validate:function(e){var t=this._get_field_value(e).split(" ");return[t.length>1,t.length>1?"fullname-ok":"fullname-invalid-format"]}},name:{validate:function(e){var t=new RegExp('^[^!"#$%&()*+,/:;<=>?@\\[\\\\\\]^_`{|}~\xa8\xb4\xb9\xb2\xb3\xa3\xa2\xac\xa7\xaa\xba	0-9]+$'),o=t.test(this._get_field_value(e));return[o,o?"name-ok":"name-invalid-format"]}},passwdrepeat:{validate:function(e){var t=!1,o=e.attr("related");if(o){var n=this.element.find("input[name='"+o+"']");if(n.get(0)){var a=n.val(),i=this._get_field_value(e);a==i&&(t=!0)}}return[t,t?"password-rep-ok":"password-rep-invalid"]}},newdate:{validate:function(e){var t=!0,o=null,n=e.attr("format");if(n)if("dd/mm/yyyy"==n){var a=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/,i=a.exec(this._get_field_value(e));if(i){var s=parseInt(i[1],10),r=parseInt(i[2],10),l=parseInt(i[3],10);o=new Date(l,r-1,s+1,0,0,0,0)}}else if("mm/dd/yyyy"==n){var a=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/,i=a.exec(this._get_field_value(e));if(i){var s=parseInt(i[2],10),r=parseInt(i[1],10),l=parseInt(i[3],10);o=new Date(l,r-1,s+1,0,0,0,0)}}else if("yyyy/mm/dd"==n){var a=/^([0-9]{4})\/([0-9]{1,2})\/([0-9]{1,2})$/,i=a.exec(this._get_field_value(e));if(i){var s=parseInt(i[3],10),r=parseInt(i[2],10),l=parseInt(i[1],10);o=new Date(l,r-1,s+1,0,0,0,0)}}return o&&o<new Date&&(t=!1),[t,t?"date-ok":"date-invalid-old"]}},date:{validate:function(e){var t=!1,o=e.attr("format");if(o)if("dd/mm/yyyy"==o){var n=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/,a=n.exec(this._get_field_value(e));if(a){var i=parseInt(a[1],10),s=parseInt(a[2],10),r=parseInt(a[3],10),l=new Date(r,s-1,i,0,0,0,0);l.getUTCDate()!=i&&l.getDate()!=i||l.getMonth()!=s-1||l.getFullYear()!=r||(t=!0)}}else if("mm/dd/yyyy"==o){var n=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/,a=n.exec(this._get_field_value(e));if(a){var i=parseInt(a[2],10),s=parseInt(a[1],10),r=parseInt(a[3],10),l=new Date(r,s-1,i,0,0,0,0);l.getUTCDate()!=i&&l.getDate()!=i||l.getMonth()!=s-1||l.getFullYear()!=r||(t=!0)}}else if("yyyy/mm/dd"==o){var n=/^([0-9]{4})\/([0-9]{1,2})\/([0-9]{1,2})$/,a=n.exec(this._get_field_value(e));if(a){var i=parseInt(a[3],10),s=parseInt(a[2],10),r=parseInt(a[1],10),l=new Date(r,s-1,i,0,0,0,0);l.getUTCDate()!=i&&l.getDate()!=i||l.getMonth()!=s-1||l.getFullYear()!=r||(t=!0)}}return[t,t?"date-ok":"date-invalid-format"]}},strength:{validate:function(e){var t=0;return e.val().length<6?(e.parents("."+this.options.mainId).find(".strength").hide(),e.parents("."+this.options.mainId).find(".strength-fraca").show(),e.parents("."+this.options.mainId).find(".pass-strength").show(),[!1,"password-too-short"]):(e.val().length>7&&(t+=1),e.val().match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(t+=1),e.val().match(/([a-zA-Z])/)&&e.val().match(/([0-9])/)&&(t+=1),e.val().match(/([!,%,&,@,#,$,^,*,?,_,~])/)&&(t+=1),e.val().match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,%,&,@,#,$,^,*,?,_,~])/)&&(t+=1),2>t?(e.parents("."+this.options.mainId).find(".strength").hide(),e.parents("."+this.options.mainId).find(".strength-fraca").show(),e.parents("."+this.options.mainId).find(".pass-strength").show(),[!0,"password-weak"]):2==t?(e.parents("."+this.options.mainId).find(".strength").hide(),e.parents("."+this.options.mainId).find(".strength-boa").show(),e.parents("."+this.options.mainId).find(".pass-strength").show(),[!0,"password-good"]):(e.parents("."+this.options.mainId).find(".strength").hide(),e.parents("."+this.options.mainId).find(".strength-forte").show(),e.parents("."+this.options.mainId).find(".pass-strength").show(),[!0,"password-power"]))}}},jQueryFormHelper.prototype.templates={"default":{INPUT_TEXT_WRAPPER:'<div class="main_element"><div class="prc-line-label form-helper-mini-label"></div><div class="cdst-line"><newinput/><span  class="inpt-label-out form-helper-label"></span><span class="inpt-label-info form-helper-info"></span></div></div>',TEXTAREA_TEXT_WRAPPER:'<div class="main_element"><div class="form-helper-mini-label prc-line-label"></div><div class="cdst-line"><span class="textarea-caracters"><span class="char_count">500</span>&nbsp;<span class="chars"></span></span><newinput/><span class="inpt-label-out form-helper-label"></span><span class="inpt-label-info form-helper-info"></span></div></div>',INPUT_TEXT_BUTTON_WRAPPER:'<div class="main_element"><div class="form-helper-mini-label prc-line-label"></div><div class="cdst-line"><newinput/><a tabindex="-1" href="javascript: void(0);" class="btn-acpt btn-acpt-btn"><buttontitle/></a><span class="inpt-label-out form-helper-label"></span><span class="inpt-label-info form-helper-info"></span></div></div>',INPUT_CALENDAR_WRAPPER:'<div class="main_element"><div class="prc-line-label form-helper-mini-label"></div><div class="cdst-line"><newinput/><a href="javascript: void(0)" class="btn-acpt btn-acpt-data"><span class="icon-calendar"></span></a><span class="inpt-label-out form-helper-label"></span><a href="javascript: void(0)" class="ico-flag tTipT"></a><span class="inpt-label-info form-helper-info"></span></div></div>',CHOOSER_WRAPPER:'<div class="main_element"><div class="form-helper-mini-label prc-line-label"></div><div class="cdst-line"><newselect/><span class="inpt-label-erro form-helper-info"></span></div></div>',INPUT_RADIO_WRAPPER:'<label class="main_element radio-label fb-check-ind"><span class="mark radio-of"></span><span class="radio-input"><newinput/></span><span class="radio-text"><radiotitle/></span></label>',INPUT_CHECKBOX_WRAPPER:'<label class="main_element check-label"><span class="mark check-of"></span><span class="check-input"><newinput/></span><span class="check-text"><checktitle/></span></label>',PASSWORD_STRENGTH_TEMPLATE:'<div class="pass-strength"><strong>For&ccedil;a da senha</strong><span class="strength strength-fraca">Fraca</span><span class="strength strength-media">M&eacute;dia</span><span class="strength strength-boa">Boa</span><span class="strength strength-forte">Forte</span></div>'}},jQuery.extend(jQueryFormHelper,{VALIDATION_SUCCESS:1,VALIDATION_ERROR:0,VALIDATION_PENDING:2,STATUS_ERROR:0,STATUS_PENDING:2,STATUS_SUCCESS:1,STATUS_INFO:3,DEFAULTS:{template:"default",classTemplate:"formhelper-default",defaultField:"",infoId:"form-helper-info",labelId:"form-helper-label",miniLabelId:"form-helper-mini-label",mainId:"main_element",charCountId:"char_count",button:"#formhelper_submit_button",sendOnEnter:!0,autoRender:!0,showInfoOnEmpty:!1,messages:{empty:"",chars:"caracteres restantes","waiting-validation":"Confirmando","error-required":"Este campo &eacute; obrigat&oacute;rio.","success-required":"Este campo est&aacute; ok.","email-invalid-format":"E-mail com formato inv&aacute;lido.","email-ok":"O e-mail est&aacute; ok.","fullname-invalid-format":"N&atilde;o parece ser um nome completo.","fullname-ok":"O nome est&aacute; ok.","name-invalid-format":"Campo inv&aacute;lido (n&atilde;o pode conter n&uacute;meros ou caracteres especiais).","name-ok":"Este campo est&aacute; ok.","cpf-invalid-format":"CPF inv&aacute;lido. Exemplo: <em>nnn.nnn.nnn-nn</em>.","cpf-ok":"O CPF &eacute; v&aacute;lido.","date-invalid-format":"Data com formato inv&aacute;lido.","date-ok":"A data &eacute; v&aacute;lida.","password-rep-ok":"As senhas conferem.","password-rep-invalid":"As senhas n&atilde;o conferem.","date-invalid-old":"Data retrotativa n&atilde;o permitida.","password-too-short":"Senha muito curta, m&iacute;nimo de 6 caracteres.","password-weak":"A senha &eacute; v&aacute;lida.","password-good":"A senha &eacute; v&aacute;lida.","password-power":"A senha &eacute; v&aacute;lida.","chosen-not-found":"Op&ccedil;&atilde;o n&atilde;o encontrada.","main-element-is-not-a-form":"jQueryFormHelper: elemento principal n&atilde;o &eacute; um formul&aacute;rio.","template-not-found":"jQueryFormHelper: template n&atilde;o localizado.","creditcard-fail":"Erro na obten&ccedil;&atilde;o dos atributos.","creditcard-number-ok":"O n&uacute;mero do cart&atilde;o &eacute; v&aacute;lido.","creditcard-number-fail0-visa":"O n&uacute;mero do cart&atilde;o deve conter exatamente 16 d&iacute;gitos.","creditcard-number-fail0-master":"O n&uacute;mero do cart&atilde;o deve conter exatamente 16 d&iacute;gitos.","creditcard-number-fail0-elo":"O n&uacute;mero do cart&atilde;o deve conter exatamente 16 d&iacute;gitos.","creditcard-number-fail0-amex":"O n&uacute;mero do cart&atilde;o deve conter exatamente 15 d&iacute;gitos.","creditcard-number-fail1":"N&uacute;mero do cart&atilde;o inv&aacute;lido.","creditcard-securitycode-ok":"O c&oacute;digo de seguran&ccedil;a &eacute; v&aacute;lido.","creditcard-securitycode-fail-visa":"O c&oacute;digo de seguran&ccedil;a deve conter exatamente 3 d&iacute;gitos.","creditcard-securitycode-fail-master":"O c&oacute;digo de seguran&ccedil;a deve conter exatamente 3 d&iacute;gitos.","creditcard-securitycode-fail-elo":"O c&oacute;digo de seguran&ccedil;a deve conter exatamente 3 d&iacute;gitos.","creditcard-securitycode-fail-amex":"O c&oacute;digo de seguran&ccedil;a deve conter exatamente 4 d&iacute;gitos."},onChange:null,onChangeCompleted:null,onAfterValidate:null,onBlur:null,onFocus:null,onSubmit:null,onSubmitError:null,onValidate:null}});