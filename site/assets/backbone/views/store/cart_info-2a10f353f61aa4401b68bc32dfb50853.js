var CartInfoView=null;!function(e){CartInfoView=BaseBackboneView.extend({initialize:function(){this.constructor.__super__.initialize.call(this);var t=this;this.adopted=!0;var o=e(".template-cart-info");o.get(0)?(this.setElement(o),t.options.onload&&t.options.onload.call(t)):(render_template("template_store_cart_info_id","/templates/backbone/"+this.options.noivos.get("id_noivo")+"/store/"+this.options.noivos.get("template_html_version")+"/cart_info",{noivos:this.options.noivos.attributes,cart:this.options.cart.attributes},function(e){t.setElement(e),t.options.onload&&t.options.onload.call(t)}),this.adopted=!1)},render:function(){var t=this;return load_css("//assets1.icasei.com.br/assets/formhelper.css"),load_js("//assets1.icasei.com.br/assets/formhelper.js",function(){e("#cart_info").formhelper({defaultField:"nome",autoRender:!1,messages:form_helper_messages,onSubmitError:function(){e(".def-result-message").addClass("error").removeClass("success"),e(".def-result-message").html(I18n.t("formhelper.formhelper_invalid_values")),e(".def-result-message").show(),e("html,body").animate({scrollTop:0},200)},onSubmit:function(){var o=e("#cart_info #nome").val(),n=e("#cart_info #email").val(),a=e("#cart_info #ddd").val(),i=e("#cart_info #telefone").val(),s=e("#cart_info #mensagem").val(),r=e("#cart_info #documento").val(),l=new Cart;return l.save({nome:o,email:n,mensagem:s,ddd:a,telefone:i,documento:r},{wait:!0,success:function(){Backbone.history.navigate("/"+t.options.noivos.get("login")+"/store/payment",!0)},error:function(t,o,n){var a=o.responseText,i=JSON.parse(a);for(var s in i.errors){var r=i.errors[s];e("#cart_info").formhelper("flagerror",r.key,r.value)}e(".def-result-message").addClass("error").removeClass("success"),e(".def-result-message").html(I18n.t("formhelper.formhelper_invalid_values")),e(".def-result-message").show()}}),!1}}),e("#cart_info").formhelper("init")}),e("div.cart-link").hide(),this}})}(jQuery);